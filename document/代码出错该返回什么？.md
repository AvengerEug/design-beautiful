# 代码出错该返回什么？NULL、异常、错误码、空对象？

* 我们可以把函数的运行结果分为两类。一类是预期的结果，也就是函数在正常情况下输出的结果。另一类是非预期的结果，也就是函数在异常情况下的输出结果。
* 在正常情况下，函数返回数据的类型非常明确，但是，在异常情况下，函数返回的数据类型却非常灵活，有多种选择。我们可以返回：异常、NULL值、特殊值（比如-1）、空对象（空字符串和空集合）等等
* 函数在异常情况下，如何返回也是一门非常有学问的问题。

### 一般返回异常比较好

* 为什么？因为异常可以携带的信息更多，它可以包含错误描述、堆栈信息等等。
* 但抛出异常时，我们也要考虑到底是受检异常还是非首检异常。如果我们希望异常快速中断业务，此时我们可以抛出非受检异常。如果我们希望异常抛出后，上层业务对此逻辑做处理，此时我们可以抛出受检异常。

### 下游异常时，如何处理

* 一共有三种处理方法：
  * 方式一：直接吃掉异常，打印日志。这种模式表示下游的异常不会影响主业务逻辑
  * 方式二：原封不动的往上抛。这种模式表示下游的异常已经阻断了当前逻辑
  * 方式三：封装一层异常，包装层当前层定义的异常继续往上抛。这种模式一般是每一层的代码有自己的逻辑定义，可能有规范，比如这一层的代码抛出这个异常，则表示是这个层出现的问题。