## 针对业务系统的开发，如何做需求分析和设计

* 对于一个工程师来说，如果要追求长远发展，就不能一直只把自己放在执行者的角色，不能只是一个代码实现者，你还要有独立负责一个系统的能力，能端到端开发一个完整的系统。这其中的工作就包括：前期的需求沟通分析、中期的代码设计实现、后期的系统上线运维等。
* 此次实战的目的：通过一个积分兑换系统的开发实战，一方面展示一个业务系统从需求分析到上线运维的整个开发套路，让你能举一反三的应用到所有其他系统的开发中；另一方面也展示在看似没有技术含量的业务开发中，实际上都蕴含了哪些设计原则、思想、模式。

## 需求分析

* 积分是一种常见的营销手段，很多产品都会通过它来促进消费、增加用户黏性，比如淘宝积分、信用卡积分、商场消费积分等等。假设你是一家类似淘宝的这样的电商平台的工程师，平台暂时还没有积分系统。Leader希望由你来负责开发这样一个系统，你会如何来做呢？

* 你可能会说，只要产品经理给我产品设计文档（PRD）、线框图，我照着实现就可以了。其实，这种想法有点狭隘。技术人员应该更多地参与到产品设计中，一个优秀的工程师会具备产品思维，并不是完全的技术控。

* 那作为技术人，如何来做产品设计呢？首先，一定不要自己一个人闷头想。一方面，这样做很难想全面。另一方面，从零开始设计也比较浪费时间。**我们可以找几个类似的产品，比如淘宝，看看它们是如何设计积分系统的，然后借鉴到自己的产品中。你可以自己亲自用用淘宝，看看积分是怎么使用的，也可以直接百度一下积“淘宝积分规则”**。基于这两个输入，我们基本上就能大致摸清楚积分系统该如何设计了。除此之外，我们还要了解公司的产品，将借鉴来的东西糅合在我么自己的产品中，并做适当的微创新。

* 笼统地来讲，积分系统无外乎就两个大的功能点，**一个是赚取积分，另一个是消费积分**。**赚取积分功能**包括积分赚取渠道，比如下订单、每日签到、评论等；还包括**积分兑换规则**，比如订单金额与积分的兑换比例，每日签到赠送多少积分等等。**消费积分功能**包括消费渠道，比如抵扣订单金额、兑换优惠券、积分换购、参与活动扣积分等；还包括积分兑换规则，比如多少积分可以换算成抵扣订单的多少金额，一张优惠券需要多少积分来兑换等等。

* 上面阐述的只是几个大的点，每个点内部可能会有很多细节。我们要通过**线框图、用户用例来细化业务流程，挖掘一些比较细节的、不容易想到的功能点。**`(以用户的视角来想case，来套整个流程，看是否行得通，如果行不通，则看哪里需要改动下。其实就是：模拟用户如何使用我们的产品，描述用户在一个特定的应用场景里的一个完整的业务操作流程。)`

* 比如：有关积分有效期的用例，我们可以进行如下的设计：

  * 用户在获取积分的时候，会告知积分的有效期；
  * 用户在使用积分的时候，会有限使用快过期的积分；
  * 用户在查询积分明细的时候，会显示积分的有效期和状态（是否过期）；
  * 用户在查询总可用积分的时候，会排除掉过期的积分。

  通过上面的讲的方法，我们就可以将功能需求大致弄清楚了。



